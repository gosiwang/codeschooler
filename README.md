# ğŸ§© CodeSchooler â€” AI ê¸°ë°˜ íŒŒì´ì¬ í•™ìŠµ í”Œë«í¼

**AIê°€ ì´ë¡ Â·ë¬¸ì œÂ·ì •ë‹µÂ·í”¼ë“œë°±Â·ì½”ë“œ ì±„ì ê¹Œì§€ ëª¨ë‘ ì²˜ë¦¬í•˜ëŠ” ì§€ëŠ¥í˜• í•™ìŠµ ì„œë¹„ìŠ¤**

> ğŸ“† ê°œë°œ ê¸°ê°„: **2024.12.16 ~ 2025.05.13**
> ğŸ§‘â€ğŸ’» ë‹´ë‹¹ ì—­í• : **ë°±ì—”ë“œ(Spring Boot) + AI ì„œë²„(Flask/Python) + í”„ë¡ íŠ¸ì—”ë“œ React ì „ì²´ ê¸°ëŠ¥ ê°œë°œ**

---

<div align="center">

### ğŸš€ â€œAIê°€ ë¬¸ì œë¥¼ ë§Œë“¤ê³ , ì±„ì í•˜ê³ , í”¼ë“œë°±ì„ ì œê³µí•˜ëŠ” ì‹ ê°œë… íŒŒì´ì¬ í•™ìŠµ í”Œë«í¼â€

Python ì´ë¡  í•™ìŠµ â†’ ë¬¸ì œ ìƒì„± â†’ ì½”ë“œ ì‘ì„± â†’ AI ì±„ì  â†’ í”¼ë“œë°± â†’ í†µê³„ ì‹œê°í™”ê¹Œì§€
**í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ì—ì„œ ëª¨ë‘ ê²½í—˜í•  ìˆ˜ ìˆëŠ” í’€ìŠ¤íƒ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.**

</div>

---

# âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Highlights)

### ğŸ§  1. **AI ê¸°ë°˜ íŒŒì´ì¬ ì´ë¡  ì„¤ëª…**

* Gemini 1.5 Flash ê¸°ë°˜
* ì£¼ì œ ì…ë ¥ ì‹œ **êµ¬ì²´ì  ì˜ˆì‹œÂ·ì‘ìš© ì‚¬ë¡€Â·ì½”ë“œ ìƒ˜í”Œ** í¬í•¨í•˜ì—¬ ìë™ ìƒì„±

### ğŸ“ 2. **AI ìë™ ì—°ìŠµ ë¬¸ì œ ìƒì„±**

* ì£¼ì œ ê¸°ë°˜ ë¬¸ì œ 3ê°œ ìë™ ìƒì„±
* *ë¬¸ì œ ì„¤ëª… / ì§€ì‹œì‚¬í•­ / ì…ë ¥ ì˜ˆ / ì¶œë ¥ ì˜ˆ / ë‚œì´ë„* í¬í•¨
* ë¬¸ì œë§ˆë‹¤ **ì •ë‹µ ì½”ë“œ ìë™ ìƒì„± â†’ Spring Boot DB ì €ì¥**

### ğŸ§ª 3. **AI ì½”ë“œ ì±„ì  ì—”ì§„**

* RestrictedPython í™˜ê²½ì—ì„œ ì‚¬ìš©ì ì½”ë“œ ìƒŒë“œë°•ìŠ¤ ì‹¤í–‰
* HuggingFace ì˜¤ë¥˜ ë¶„ë¥˜ ëª¨ë¸(MilkTeaaaaaeee/1235657)
* Gemini ê¸°ë°˜ **ì˜¤ë¥˜ ì›ì¸ ë¶„ì„ + ìˆ˜ì • ì œì•ˆ ì œê³µ**
* ì •ë‹µ ì½”ë“œì™€ì˜ ì¶œë ¥ ë¹„êµ
* Spring Bootë¡œ ì œì¶œ ê²°ê³¼ ì €ì¥

### ğŸ’¬ 4. **ì‹¤ì‹œê°„ AI ì±—ë´‡**

* ì´ë¡ /ë¬¸ì œ/íŒíŠ¸/ì¶”ê°€ ë¬¸ì œ ìš”ì²­ ê°€ëŠ¥
* ìì—°ì–´ ê¸°ë°˜ ì˜ë„ ë¶„ë¥˜(TFIDF + ë‚˜ì´ë¸Œë² ì´ì¦ˆ)
* íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ + ì‘ë‹µì‹œê°„ í‘œì‹œ

### ğŸ‘¨â€ğŸ’» 5. **ì½”ë“œ ì—ë””í„° (CodeMirror + VSCode Dark Theme)**

* íŒŒì´ì¬ ë¬¸ë²• í•˜ì´ë¼ì´íŠ¸
* ìë™ ì¤„ë²ˆí˜¸ / ìë™ ê´„í˜¸ ë§ì¶¤ / ë‹¤í¬ëª¨ë“œ
* ì œì¶œ ì‹œ í’€ìŠ¤í¬ë¦° ë¡œë”© ì• ë‹ˆë©”ì´ì…˜

### ğŸ“Š 6. **í•™ìŠµ í†µê³„ ì‹œê°í™”**

* ì •ë‹µë¥  íŒŒì´ì°¨íŠ¸
* ì¼ë³„ ë¬¸ì œí’€ì´ ê·¸ë˜í”„
* ë„¤ì˜¤ëª¨í”½ ë””ìì¸ì˜ ëŒ€ì‹œë³´ë“œ UI

### ğŸ” 7. **ì‚¬ìš©ì íšŒì›ê°€ì…/ë¡œê·¸ì¸**

* Spring Security + BCrypt
* ë¡œê·¸ì¸ ìœ ì§€ ê¸°ëŠ¥
* Spring Boot APIë¡œ ê´€ë¦¬

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

CodeSchoolerëŠ” ë‹¤ìŒ ë„¤ ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœ ì›¹ ê¸°ë°˜ íŒŒì´ì¬ í•™ìŠµ í”Œë«í¼ì…ë‹ˆë‹¤.

![CodeSchooler ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](./docs/codeschooler-architecture.png)

---

### 1. Web Client (React SPA)

- React ê¸°ë°˜ ë‹¨ì¼ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜(SPA)
- ì£¼ìš” í™”ë©´
  - ì´ë¡  í•™ìŠµ í™”ë©´
  - ë¬¸ì œ í’€ì´ ë° ì½”ë“œ ì—ë””í„°(CodeMirror)
  - ì±„ì /í”¼ë“œë°± ê²°ê³¼ ë³´ê¸°
  - í•™ìŠµ í†µê³„ ëŒ€ì‹œë³´ë“œ(Recharts)
- ì—­í• 
  - ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬(ì½”ë“œ, ë‹µì•ˆ, ë¡œê·¸ì¸ ì •ë³´ ë“±)
  - Axiosë¥¼ í†µí•´ Spring Boot ë°±ì—”ë“œ API í˜¸ì¶œ
  - JWTë¥¼ ì €ì¥/ì „ë‹¬í•˜ì—¬ ì¸ì¦ì´ í•„ìš”í•œ ìš”ì²­ ì „ì†¡
  - ì‹¤í–‰ ê²°ê³¼, í”¼ë“œë°±, í†µê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë Œë”ë§

---

### 2. Backend API Server (Spring Boot)

- Spring Boot ê¸°ë°˜ REST API ì„œë²„
- ì£¼ìš” ëª¨ë“ˆ
  - ì¸ì¦/ì‚¬ìš©ì ê´€ë¦¬
    - íšŒì›ê°€ì…, ë¡œê·¸ì¸, JWT ë°œê¸‰ ë° ê²€ì¦
  - í•™ìŠµ ì½˜í…ì¸  ê´€ë¦¬
    - ì´ë¡ (Theory), ë¬¸ì œ(Problem), ì˜ˆì‹œ ì •ë‹µ ê´€ë¦¬
  - ì œì¶œ/ì±„ì  ê¸°ë¡ ê´€ë¦¬
    - ì½”ë“œ ì œì¶œ(CodeSubmission), ë‹µì•ˆ(Answer) ì €ì¥
    - ì‹¤í–‰ ê²°ê³¼, ì •ë‹µ ì—¬ë¶€, í”¼ë“œë°± ì €ì¥
  - í†µê³„/ëŒ€ì‹œë³´ë“œ
    - ì‚¬ìš©ìë³„ ì •ë‹µë¥ , ì œì¶œ íšŸìˆ˜, ìµœê·¼ í•™ìŠµ ë¬¸ì œ ì¡°íšŒ
  - ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™
    - Flask ì½”ë“œ ì‹¤í–‰/í”¼ë“œë°± ì„œë²„ì™€ HTTP í†µì‹ 
- êµ¬ì¡°
  - Controller â†’ Service â†’ Repository â†’ MySQL
  - ì£¼ìš” ì—”í‹°í‹°: User, Problem, Answer, CodeSubmission, Feedback, LearningStats

---

### 3. Code Execution & Feedback Server (Flask)

- Python/Flask ê¸°ë°˜ ë³´ì¡° ì„œë²„(ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤)
- ì—­í• 
  - ì½”ë“œ ì‹¤í–‰
    - ì œí•œëœ ìƒŒë“œë°•ìŠ¤ í™˜ê²½ì—ì„œ íŒŒì´ì¬ ì½”ë“œ ì‹¤í–‰
    - í‘œì¤€ ì¶œë ¥, ë¦¬í„´ê°’, ì˜ˆì™¸ ì •ë³´ë¥¼ ìˆ˜ì§‘
  - ì˜¤ë¥˜/ì½”ë“œ ë¶„ì„
    - ì—ëŸ¬ ë©”ì‹œì§€, ì½”ë“œ íŒ¨í„´ ë“±ì„ ë¶„ì„í•´ ì˜¤ë¥˜ ìœ í˜• ë¶„ë¥˜
  - í”¼ë“œë°± ìƒì„±
    - ì˜¤ë¥˜ ìœ í˜•ì— ë”°ë¼ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…ê³¼ ìˆ˜ì • ë°©í–¥ ì œì•ˆ
  - Spring Bootì™€ì˜ í†µì‹ 
    - ì…ë ¥: ì‚¬ìš©ì ID, ë¬¸ì œ ID, ì½”ë“œ ë“±
    - ì¶œë ¥: ì‹¤í–‰ ê²°ê³¼, ì„±ê³µ ì—¬ë¶€, ì˜¤ë¥˜ ìœ í˜•, í”¼ë“œë°±(JSON)
- Spring BootëŠ” Flask ì‘ë‹µì„ ë°›ì•„ DBì— ì €ì¥í•˜ê³ , ë‹¤ì‹œ Reactë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

---

### 4. Database (MySQL)

- MySQL ê¸°ë°˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- ì£¼ìš” í…Œì´ë¸”(ì—”í‹°í‹°)
  - `users`
    - id, username, password, role, created_at, updated_at
  - `problems`
    - id, title, description, difficulty, topic, sample_input, sample_output
  - `theories`
    - id, title, content, topic, order_index
  - `answers`
    - id, user_id, problem_id, user_answer, is_correct, submitted_at
  - `code_submissions`
    - id, user_id, problem_id, code, result, is_success, error_type, created_at
  - `feedbacks` (ë˜ëŠ” code_submissionsì— í¬í•¨)
    - id, submission_id, feedback_text
  - `learning_stats`
    - userë³„ ì œì¶œ ìˆ˜, ì •ë‹µ ìˆ˜, ìµœê·¼ í•™ìŠµ ì¼ì, ì£¼ì œë³„ í†µê³„ ë“± ì§‘ê³„ ë°ì´í„°
- JPAë¥¼ í†µí•´ ì—”í‹°í‹° ê°„ ì—°ê´€ ê´€ê³„ë¥¼ ë§ºì–´ ê´€ë¦¬í•©ë‹ˆë‹¤.
  - User (1) : (N) CodeSubmission
  - Problem (1) : (N) CodeSubmission
  - CodeSubmission (1) : (1) Feedback (ë˜ëŠ” 1:N)

---

### 5. ìš”ì²­ íë¦„ ìš”ì•½

1. ì‚¬ìš©ìê°€ React í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¡œê·¸ì¸ â†’ Spring Bootì—ì„œ JWT ë°œê¸‰
2. ë¬¸ì œ/ì´ë¡  ì¡°íšŒ ìš”ì²­ â†’ Spring Boot â†’ MySQLì—ì„œ ë°ì´í„° ì¡°íšŒ â†’ Reactì— ì‘ë‹µ
3. ì½”ë“œ ì œì¶œ
   - React: `/api/submissions`ë¡œ ì½”ë“œ + JWT ì „ì†¡
   - Spring Boot:
     - ì‚¬ìš©ì/ë¬¸ì œ ì •ë³´ ê²€ì¦ í›„ CodeSubmission ìƒì„±
     - Flask `/execute-code` API í˜¸ì¶œ
   - Flask:
     - ì½”ë“œ ì‹¤í–‰ ë° ì˜¤ë¥˜/í”¼ë“œë°± ìƒì„± í›„ JSON ì‘ë‹µ
   - Spring Boot:
     - ì‹¤í–‰ ê²°ê³¼ì™€ í”¼ë“œë°±ì„ DBì— ì €ì¥
     - ìµœì¢… ê²°ê³¼ë¥¼ Reactë¡œ ë°˜í™˜
   - React:
     - ì½”ë“œ ì‹¤í–‰ ê²°ê³¼, í”¼ë“œë°±, ì •ë‹µ ì—¬ë¶€ë¥¼ í™”ë©´ì— í‘œì‹œ
4. í•™ìŠµ í†µê³„
   - React â†’ Spring Boot `/api/stats/my`
   - Spring Boot â†’ MySQLì—ì„œ ì œì¶œ/ì •ë‹µ ë°ì´í„° ì§‘ê³„
   - Reactì—ì„œ Rechartsë¡œ ì°¨íŠ¸ ë Œë”ë§

---

# ğŸ§© ê¸°ìˆ  ìŠ¤íƒ

### ğŸ¨ Frontend

* React
* CodeMirror
* React Router
* Recharts
* Axios
* VSCode Dark Theme
* Lucide Icons

### ğŸ§¬ Backend (Spring Boot)

* Spring Web / Spring Security / Spring Data JPA
* BCryptPasswordEncoder
* MySQL 8
* JJWT (í† í° ê¸°ëŠ¥ ì œê±°í•˜ì—¬ NO_TOKEN ì²˜ë¦¬)
* Lombok

### ğŸ¤– AI Server (Flask + Python)

* Google Gemini API
* HuggingFace Transformers
* RestrictedPython
* aiohttp + asyncio
* scikit-learn
* TfidfVectorizer + MultinomialNB
* Python subprocess / compile_restricted

---

# ğŸ“š ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

## 1) AI ì´ë¡  ìƒì„±

```python
response = await self.generate_content_async(prompt)
theory = response.text
```

## 2) AI ë¬¸ì œ ìƒì„± + ì •ë‹µ ìë™ ìƒì„± + DB ì €ì¥

```python
exercise["correct_answer"] = await self.generate_answer(...)
await api_client.save_answer(data)  # Spring Bootë¡œ ì €ì¥
```

## 3) ì½”ë“œ ì±„ì  (RestrictedPython)

```python
compiled_code = compile_restricted(code, "<string>", "exec")
exec(compiled_code, restricted_globals, locals_dict)
```

## 4) ì˜¤ë¥˜ ìœ í˜• ë¶„ë¥˜ (HuggingFace ëª¨ë¸)

```python
outputs = self.error_model(**inputs)
predicted = torch.argmax(outputs.logits, dim=1)
```

## 5) ì˜¤ë¥˜ ë¶„ì„ ë° ìˆ˜ì • ì œì•ˆ (Gemini)

```python
response = await self.gemini_model.generate_content(prompt)
return response.text
```

## 6) AI ì±—ë´‡ ì˜ë„ ë¶„ë¥˜

```python
self.intent_classifier = make_pipeline(TfidfVectorizer(), MultinomialNB())
```

---

# ğŸ§© DB ëª¨ë¸

### âœ” users

| Column     | Type      | Desc    |
| ---------- | --------- | ------- |
| id         | bigint PK | ì‚¬ìš©ì ID  |
| name       | varchar   | ì´ë¦„      |
| email      | varchar   | ë¡œê·¸ì¸ ì´ë©”ì¼ |
| password   | varchar   | ì•”í˜¸í™”ëœ PW |
| rememberMe | boolean   | ë¡œê·¸ì¸ ìœ ì§€  |
| createdAt  | datetime  | ìë™ ìƒì„±   |

### âœ” answers

| Column        | Type      | Desc  |
| ------------- | --------- | ----- |
| id            | bigint PK | ì •ë‹µ ID |
| problemNumber | varchar   | ë¬¸ì œ ë²ˆí˜¸ |
| answerCode    | text      | ì •ë‹µ ì½”ë“œ |
| createdAt     | datetime  | ìƒì„± ì‹œê°„ |

### âœ” code_submissions

| Column        | Type      | Desc   |
| ------------- | --------- | ------ |
| id            | bigint PK | ì œì¶œ ID  |
| userId        | bigint    | ì‚¬ìš©ì ID |
| problemNumber | varchar   | ë¬¸ì œ ë²ˆí˜¸  |
| code          | text      | ì œì¶œ ì½”ë“œ  |
| isCorrect     | boolean   | ì •ë‹µ ì—¬ë¶€  |
| feedback      | text      | AI í”¼ë“œë°± |
| submittedAt   | datetime  | ì œì¶œ ì‹œê°„  |

---

# ğŸ”Œ API ëª…ì„¸ì„œ

## ğŸ“˜ Spring Boot API

### âœ” íšŒì›ê°€ì…

`POST /api/users/signup`

### âœ” ë¡œê·¸ì¸

`POST /api/users/login`

### âœ” ì •ë‹µ ì €ì¥

`POST /api/save-answer`

### âœ” ì •ë‹µ ì¡°íšŒ

`GET /api/get-answer/{problemNumber}`

### âœ” ì œì¶œ ì½”ë“œ ì €ì¥

`POST /api/submit-code`

---

## ğŸ¤– Flask AI API

### âœ” ëŒ€í™”

`POST /api/chat`

### âœ” ì½”ë“œ ì œì¶œ(ì±„ì  ìš”ì²­)

`POST /api/submit-code`

---

# ğŸ–¥ ì‹¤í–‰ ë°©ë²•

## 1) Spring Boot (ë°±ì—”ë“œ)

```bash
cd backend
./gradlew bootRun
```

## 2) AI ì„œë²„ (Flask)

```bash
cd ai-server
pip install -r requirements.txt
python app.py
```

## 3) React í´ë¼ì´ì–¸íŠ¸

```bash
cd client
npm install
npm start
```

---

# ğŸ“Œ ë‹´ë‹¹ ì—­í•  (ë³¸ì¸ ê¸°ì—¬ë„)

### ğŸŸ© **ë°±ì—”ë“œ â€” Spring Boot ì „ ê¸°ëŠ¥ ê°œë°œ**

* User / Answer / CodeSubmission ì „ ì„¤ê³„ ë° êµ¬í˜„
* Spring Security ì ìš©
* MySQL í…Œì´ë¸” ì„¤ê³„
* REST API ì„¤ê³„ ë° ê°œë°œ

### ğŸŸ¨ **í”„ë¡ íŠ¸ì—”ë“œ â€” React UI ê°œë°œ**

* AI Chat UI, CodeMirror Editor, ëŒ€ì‹œë³´ë“œ ê°œë°œ
* íƒ€ì…ë¼ì´íŒ… íš¨ê³¼ / ChatLoader / ResponseTimer
* ë¡œê·¸ì¸/íšŒì›ê°€ì… UX
* ì „ì²´ ë‹¤í¬ëª¨ë“œ & ìŠ¬ë¼ì´ë” UI

---

# ğŸ“ˆ í–¥í›„ ê°œì„  ë°©í–¥

* ì¤‘ê¸‰/ê³ ê¸‰ ë‚œì´ë„ ë¬¸ì œ ìë™ ìƒì„±
* ì¶”ê°€ í†µê³„(ì‚¬ìš©ìë³„ ë‚œì´ë„ ë§¤íŠ¸ë¦­ìŠ¤)
* ì›¹ì†Œì¼“ ê¸°ë°˜ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° íƒ€ì´í•‘
* ë¬¸ì œ í’€ê¸° ë­í‚¹ ì‹œìŠ¤í…œ

---

